---
name: code-explainer
description: 解释代码工作原理。当用户问"这段代码做什么"、"解释一下"、"这是什么意思"时使用。
allowed-tools: Read, Grep, Glob
---

# 代码解释器

## 解释原则

1. **从高层次开始** - 先说明整体功能
2. **使用类比** - 用生活中的例子解释抽象概念
3. **逐步深入** - 从简单到复杂
4. **可视化** - 使用图表辅助理解

## 解释结构

### 1. 概述
用一句话说明这段代码的作用。

### 2. 类比
将代码比作日常生活中的事物。

### 3. 流程图
```
┌─────────┐    ┌─────────┐    ┌─────────┐
│  输入   │───>│  处理   │───>│  输出   │
└─────────┘    └─────────┘    └─────────┘
```

### 4. 逐行解析
对关键代码进行注释说明。

### 5. 使用示例
```
输入: xxx
输出: yyy
```

### 6. 常见问题
解答可能的疑惑。

## 示例

### 解释递归

**类比**: 递归就像俄罗斯套娃，打开一个娃娃发现里面还有一个更小的，直到最小的那个。

```
fib(5)
├── fib(4)
│   ├── fib(3)
│   │   ├── fib(2) = 1
│   │   └── fib(1) = 1
│   └── fib(2) = 1
└── fib(3)
    ├── fib(2) = 1
    └── fib(1) = 1
```

## 根据受众调整

- **初学者**: 多用类比，避免术语
- **有经验者**: 可以使用专业术语，关注细节
- **专家**: 聚焦设计决策和权衡

# 性能优化指南

提升全自动开发工作流的执行速度和效率。

## 快速优化

### 1. 使用性能配置

```json
{
  "requirements_doc": {
    "template": "simple"        // 使用简化模板
  },
  "advanced": {
    "parallel_execution": true,  // 启用并行
    "optimize_for_speed": true,  // 速度优先
    "cache_enabled": true        // 启用缓存
  }
}
```

### 2. 减少检查点频率

```json
{
  "autonomous_dev": {
    "checkpoint_frequency": "critical_only"  // 只在关键点保存
  }
}
```

### 3. 跳过非必要步骤

```bash
# 快速原型时
"全自动开发：实现登录功能，跳过测试和审查"
```

---

## 性能基准

### 典型性能数据

| 任务复杂度 | 文件数 | 代码行数 | 预计时间 | 优化后时间 |
|-----------|--------|---------|---------|-----------|
| 简单      | 1-3    | <200    | 5-8分钟  | 3-5分钟   |
| 中等      | 4-10   | 200-800 | 15-25分钟 | 10-15分钟 |
| 复杂      | 10-30  | 800-2000| 30-50分钟 | 20-35分钟 |

---

## 优化技巧

### 1. 合理拆分任务

**❌ 不好的做法：**
```bash
"全自动开发：实现完整的电商系统"  // 太大，耗时长，易出错
```

**✅ 好的做法：**
```bash
"全自动开发：实现商品列表展示"
"全自动开发：实现购物车功能"
"全自动开发：实现订单管理"
```

### 2. 利用缓存

AI 会缓存：
- 项目技术栈检测结果
- 代码风格分析
- 测试框架配置

重复任务会更快。

### 3. 并行执行

```json
{
  "advanced": {
    "parallel_execution": true,
    "max_concurrent_tasks": 3
  }
}
```

---

## 性能监控

### 查看性能指标

```bash
"显示性能统计"
```

输出：
```
📊 性能统计

任务总数: 12
总耗时: 18m 32s

阶段耗时：
  需求分析:  2m 15s (12%)
  代码实现: 10m 40s (58%)
  测试验证:  3m 50s (21%)
  代码审查:  1m 47s (9%)

文件操作：
  读取: 45 个文件
  写入: 12 个文件
  修改: 8 个文件

缓存命中率: 68%
```

---

## 故障排除

### 速度慢的常见原因

1. **网络问题** - 检查网络连接
2. **项目规模大** - 考虑拆分任务
3. **测试耗时长** - 配置更快的测试
4. **并发禁用** - 启用并行执行
5. **调试模式开启** - 关闭 debug_mode

---

## 最佳实践

1. ✅ 首次使用简化模板熟悉流程
2. ✅ 生产环境使用完整模板
3. ✅ 启用缓存提高重复任务速度
4. ✅ 合理配置超时时间
5. ✅ 定期查看性能报告优化流程

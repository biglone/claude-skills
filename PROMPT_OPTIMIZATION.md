# AI 提示词优化指南

如何写出更好的需求描述，提高自动开发的成功率和质量。

## 核心原则

1. **具体明确** - 详细描述期望的功能
2. **包含细节** - 关键技术选型和约束
3. **结构化** - 使用清晰的逻辑组织
4. **可验证** - 明确的完成标准

---

## 提示词模板

### 基础模板

```
全自动开发：实现 [功能名称]

功能描述：
- [核心功能1]
- [核心功能2]
- [核心功能3]

技术要求：
- [技术栈或框架]
- [特殊约束]

验收标准：
- [标准1]
- [标准2]
```

### 示例：用户认证

**❌ 不好的提示词：**
```
做个登录
```

**✅ 好的提示词：**
```
全自动开发：实现用户认证系统

功能描述：
- 用户可以通过邮箱和密码注册
- 支持邮箱验证
- 支持密码重置功能
- 使用 JWT 进行会话管理

技术要求：
- 后端使用 Express.js
- 密码使用 bcrypt 加密
- 邮件使用 nodemailer 发送

验收标准：
- 注册后发送验证邮件
- 验证通过后才能登录
- 密码找回链接30分钟有效
- 所有接口有单元测试
```

---

## 领域特定模板

### 电商功能

```
全自动开发：实现购物车功能

用户故事：
作为用户，我希望能够：
- 添加商品到购物车
- 修改商品数量
- 删除商品
- 查看购物车总价
- 保存购物车（登录用户）

技术方案：
- 使用 Redux 管理状态
- LocalStorage 保存未登录用户数据
- 数据库保存已登录用户数据

特殊要求：
- 支持商品库存检查
- 支持优惠券计算
- 价格变动提示用户
```

### 数据可视化

```
全自动开发：实现数据图表展示

图表需求：
- 折线图：显示最近30天销售趋势
- 柱状图：显示各品类销量对比
- 饼图：显示渠道占比

技术栈：
- 使用 Chart.js 或 ECharts
- 数据从 /api/stats 获取
- 支持响应式布局

交互要求：
- 支持时间范围选择
- 支持数据导出（CSV）
- 鼠标悬停显示详细数据
```

### API 服务

```
全自动开发：实现 RESTful API

端点设计：
- GET /api/posts - 获取文章列表（支持分页、搜索、排序）
- POST /api/posts - 创建文章（需要认证）
- PUT /api/posts/:id - 更新文章（作者权限）
- DELETE /api/posts/:id - 删除文章（作者权限）

技术要求：
- 使用 Express.js
- MongoDB 数据库
- JWT 认证
- 参数验证使用 Joi

非功能需求：
- 响应时间 <200ms
- 支持 CORS
- 错误返回标准格式
- API 文档使用 Swagger
```

---

## 进阶技巧

### 1. 提供上下文

**加入项目背景：**
```
全自动开发：为现有博客系统添加评论功能

项目背景：
- 现有技术栈：Next.js + Prisma + PostgreSQL
- 已有用户认证系统
- 遵循现有 API 设计规范

新功能：
- [评论功能描述]
```

### 2. 参考现有代码

```
全自动开发：实现订单管理，参考现有的用户管理模块

参考：
- 代码风格参考 src/modules/users
- API 设计参考 src/api/users
- 测试写法参考 tests/users

新功能：
- [订单管理功能]
```

### 3. 明确优先级

```
全自动开发：实现支付功能

必须实现（P0）：
- 支付宝支付
- 微信支付
- 订单状态管理

可选实现（P1）：
- Apple Pay
- 支付结果邮件通知

暂不实现：
- 国际支付
- 分期付款
```

### 4. 指定技术偏好

```
全自动开发：实现实时通知功能

技术选型偏好：
- 使用 WebSocket（而非轮询）
- 优先使用 Socket.io
- 如果 Socket.io 不适用，再考虑原生 WebSocket

功能需求：
- [通知功能描述]
```

---

## 常见场景模板库

### 表单处理

```
实现 [表单名称] 表单

字段：
- 字段1: 类型, 验证规则
- 字段2: 类型, 验证规则

验证规则：
- 必填字段
- 格式验证
- 自定义验证

提交行为：
- 提交前验证
- 提交中显示加载状态
- 成功/失败提示
```

### 文件上传

```
实现文件上传功能

支持格式：[列出支持的格式]
大小限制：[如 10MB]
上传方式：[拖拽/点击选择]

特性：
- 上传进度显示
- 多文件上传
- 预览功能
- 支持取消上传
```

### 搜索功能

```
实现搜索功能

搜索范围：[如标题、内容、标签]
搜索特性：
- 实时搜索/输入完成后搜索
- 搜索历史
- 搜索建议
- 高亮匹配结果

性能要求：
- 防抖处理
- 最大返回 50 条结果
```

---

## 避免的陷阱

### ❌ 陷阱 1：过于模糊

```
"做个后台管理系统"  // 太宽泛
```

**✅ 改进：**
```
"实现用户管理模块，包括用户列表、添加、编辑、删除、权限管理功能"
```

### ❌ 陷阱 2：缺少约束

```
"实现登录功能"  // 缺少技术细节
```

**✅ 改进：**
```
"使用 JWT 实现登录功能，支持邮箱/密码和手机号/验证码两种方式"
```

### ❌ 陷阱 3：假设太多

```
"实现支付"  // 没说用什么支付方式
```

**✅ 改进：**
```
"集成支付宝支付功能，包括创建订单、支付、回调处理、订单查询"
```

---

## 提示词检查清单

提交前检查：

- [ ] 功能描述清晰具体
- [ ] 包含关键技术要求
- [ ] 明确验收标准
- [ ] 考虑了边界情况
- [ ] 指定了优先级（如适用）
- [ ] 提供了足够上下文
- [ ] 没有技术歧义

---

## 实战练习

尝试改进以下提示词：

**练习 1：**
```
做个评论功能
```

**参考答案：**
```
全自动开发：实现博客评论功能

功能：
- 用户可以对文章发表评论
- 支持回复评论（一级回复）
- 支持点赞评论
- 管理员可以删除评论

技术：
- React + Redux
- API: POST /api/comments, GET /api/posts/:id/comments
- 评论支持 Markdown 格式

验收：
- 未登录用户提示登录
- 评论后立即显示（乐观更新）
- 删除需二次确认
```

---

## 资源

- [需求文档示例](./examples/requirements)
- [提示词模板库](./examples/prompts)
- [成功案例](./examples/success-cases)
